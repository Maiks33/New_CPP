#include <iostream>
#include <cstring>
#include <fstream>
#define u_int unsigned int
 
using namespace std;

struct Car
{
	string carmodel;
	string manufacturer;
	u_int productionyear;
	u_int mileage;
	u_int price;
};
 
void SetCars(Car* tempCar, u_int N, ofstream& fout)
{
	fout <<"Car Model\t"<<"Production Year\t"<<"Mileage\t"<<"Manufacturer\t"<<"Price\t"<<endl;
	for (int i = 0; i<N; i++)
	{
		fout<<tempCar[i].carmodel<<"\t";
		fout<<tempCar[i].productionyear<<"\t";
		fout<<tempCar[i].mileage<<"\t";
		fout<<tempCar[i].manufacturer<<"\t";
		fout<<tempCar[i].price<<"\t"<<end;
	}
}

void ShowCars(const Car* tempCar, u_int N, ifstream& fin)
{
	fin <<"Car Model\t"<<"Production Year\t"<<"Mileage\t"<<"Manufacturer\t"<<"Price\t"<<endl;
	for (int i = 0; i<N; i++)
	{

		fin>>tempCar[i].carmodel>>"\t";
		fin>>tempCar[i].productionyear>>"\t";
		fin>>tempCar[i].mileage>>"\t";
		fin>>tempCar[i].manufacturer>>"\t";
		fin>>tempCar[i].price>>"\t";
	}
}
 
int main(int argc, char** argv)
{
	if ((!strcmp(argv[1],"--help")) || (!strcmp(argv[1],"-h"))){
		cout<< "You can choose 2 startup options: "<<endl;
		cout<< "-с launch of the program in the mode of creating electronic tables"<<endl;
		cout<< "-r launch of the program in the content reading mode text file"<<endl;
		cout<< "Also you must specify the number [N] of entries and the [file_name]"<<endl;
		cout<< "Final view of the program launch structure -с [N] [file_name] or -r [N] [file_name]"<<endl;
		return 0;
	}
	
	Car* tempCar = new Car;
	u_int N = atoi(argv[2]);

	if ((!strcmp(argv[1],"-с")))
	{
		ofstream fout(argv[3]);
		SetCars(tempCar, N, fout);
	
	}

	if ((!strcmp(argv[1],"-r")))
	{
		ifstream fin(argv[3]);
		ShowCars(tempCar, N, fin);

	}
	delete tempCar;
	return 0;
}
